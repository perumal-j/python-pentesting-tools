import socket
serv_address=input("Enter the Server IP address:")
serv_port=int(input("Enter the Server Port:"))

def print_menu():
    print("""\n\n0) Close the Connection
1) Get System Info
2) List directory Contents""")

sock=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
sock.connect((serv_address,serv_port))

print("Connection Established")
print_menu()

while True:
    message=input("\n-Select an Option:")
    if(message=="0"):
        sock.sendall(message.encode())
        sock.close()
        break
    elif(message=="1"):
        sock.sendall(message.encode())
        data=sock.recv(1024)
        if not data: break
        print(data.decode('utf-8'))
    elif(message=="2"):
        path=input("Insert the Path:")
        sock.sendall(message.encode())
        sock.sendall(path.encode())
        data=sock.recv(1024)
        data=data.decode('utf-8').split(",")
        print("*"*40)
        for x in data:
            print(x)
        print("*"*40)
print_menu()
